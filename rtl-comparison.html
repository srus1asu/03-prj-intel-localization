<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RTL Layout Comparison - Intel Timeline</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <style>
    body {
      background: #f5f5f5;
      padding: 20px;
    }
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    .header {
      background: #0071c5;
      color: white;
      padding: 30px;
      border-radius: 12px 12px 0 0;
      text-align: center;
    }
    .comparison-container {
      background: white;
      border-radius: 0 0 12px 12px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .iframe-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 20px;
    }
    .iframe-wrapper {
      border: 3px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }
    .iframe-wrapper.active {
      border-color: #0071c5;
      box-shadow: 0 0 0 3px rgba(0,113,197,0.2);
    }
    .iframe-label {
      background: #0071c5;
      color: white;
      padding: 10px;
      text-align: center;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .iframe-label.rtl {
      background: #28a745;
    }
    iframe {
      width: 100%;
      height: 600px;
      border: none;
      display: block;
    }
    .controls {
      margin: 20px 0;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    .btn-demo {
      margin: 5px;
    }
    .info-box {
      background: #e7f3ff;
      border-left: 4px solid #0071c5;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    .changes-list {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 20px;
    }
    .change-item {
      padding: 10px;
      background: #f8f9fa;
      border-radius: 6px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .change-icon {
      font-size: 1.2rem;
      color: #0071c5;
    }
    @media (max-width: 1200px) {
      .iframe-container {
        grid-template-columns: 1fr;
      }
      .changes-list {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><i class="bi bi-arrow-left-right"></i> RTL Layout Comparison</h1>
      <p class="mb-0">View Left-to-Right (LTR) and Right-to-Left (RTL) layouts side-by-side</p>
    </div>
    
    <div class="comparison-container">
      <div class="info-box">
        <h3 class="h5 mb-2"><i class="bi bi-info-circle"></i> About RTL Layout</h3>
        <p class="mb-0">
          RTL (Right-to-Left) layout is essential for languages like Arabic, Hebrew, Persian, and Urdu. 
          This comparison shows how the Intel Sustainability Timeline automatically adapts its layout 
          to provide a natural reading experience for RTL language speakers.
        </p>
      </div>

      <div class="controls text-center">
        <h4 class="mb-3">Quick Actions</h4>
        <button class="btn btn-primary btn-demo" onclick="highlightDifferences()">
          <i class="bi bi-eye"></i> Highlight Differences
        </button>
        <button class="btn btn-success btn-demo" onclick="syncScroll()">
          <i class="bi bi-arrows-vertical"></i> Sync Scroll
        </button>
        <button class="btn btn-info btn-demo" onclick="refreshFrames()">
          <i class="bi bi-arrow-clockwise"></i> Refresh Both
        </button>
        <button class="btn btn-warning btn-demo" onclick="toggleFullscreen()">
          <i class="bi bi-fullscreen"></i> Toggle Fullscreen
        </button>
      </div>

      <h3 class="h5 mb-3">Visual Comparison</h3>
      <div class="iframe-container">
        <div class="iframe-wrapper" id="ltrWrapper">
          <div class="iframe-label">
            <i class="bi bi-arrow-right"></i> LTR (Left-to-Right) - English
          </div>
          <iframe id="ltrFrame" src="index.html?dir=ltr"></iframe>
        </div>
        
        <div class="iframe-wrapper" id="rtlWrapper">
          <div class="iframe-label rtl">
            <i class="bi bi-arrow-left"></i> RTL (Right-to-Left) - Arabic Example
          </div>
          <iframe id="rtlFrame" src="index.html?dir=rtl"></iframe>
        </div>
      </div>

      <h3 class="h5 mt-4 mb-3">Key Layout Changes in RTL Mode</h3>
      <div class="changes-list">
        <div class="change-item">
          <i class="bi bi-text-left change-icon"></i>
          <div><strong>Text Alignment:</strong> Right-aligned instead of left</div>
        </div>
        <div class="change-item">
          <i class="bi bi-toggle-on change-icon"></i>
          <div><strong>Language Switcher:</strong> Moves to top-left corner</div>
        </div>
        <div class="change-item">
          <i class="bi bi-box-arrow-left change-icon"></i>
          <div><strong>Reading Direction:</strong> Content flows right to left</div>
        </div>
        <div class="change-item">
          <i class="bi bi-card-list change-icon"></i>
          <div><strong>Timeline Cards:</strong> Scroll direction mirrors</div>
        </div>
        <div class="change-item">
          <i class="bi bi-ui-radios change-icon"></i>
          <div><strong>UI Elements:</strong> Horizontally flipped layout</div>
        </div>
        <div class="change-item">
          <i class="bi bi-cursor change-icon"></i>
          <div><strong>Cursor Position:</strong> Starts from right side</div>
        </div>
        <div class="change-item">
          <i class="bi bi-layout-sidebar-reverse change-icon"></i>
          <div><strong>Padding/Margins:</strong> Automatically mirrored</div>
        </div>
        <div class="change-item">
          <i class="bi bi-menu-button-wide change-icon"></i>
          <div><strong>Buttons:</strong> Icons adjust positioning</div>
        </div>
      </div>

      <div class="alert alert-success mt-4" role="alert">
        <h4 class="alert-heading"><i class="bi bi-check-circle"></i> Accessibility Benefits</h4>
        <p class="mb-0">
          Supporting RTL layouts makes your website accessible to over 400 million Arabic speakers, 
          9 million Hebrew speakers, 70 million Persian speakers, and millions more who read RTL languages. 
          This demonstrates inclusive design and expands your global reach.
        </p>
      </div>

      <div class="mt-4 p-3 bg-light rounded">
        <h4 class="h6 mb-3">Testing Instructions</h4>
        <ol class="mb-0">
          <li>Compare the two layouts side-by-side above</li>
          <li>Notice how the language switcher changes position</li>
          <li>Observe text alignment and flow direction</li>
          <li>Use the language selector on the actual page to switch live</li>
          <li>Run the accessibility checker to validate implementation</li>
        </ol>
      </div>

      <div class="mt-3 text-center">
        <a href="index.html" class="btn btn-primary me-2">
          <i class="bi bi-house"></i> View Main Page
        </a>
        <a href="accessibility-checker.html" class="btn btn-success me-2">
          <i class="bi bi-shield-check"></i> Run Accessibility Check
        </a>
        <a href="accessibility-report.md" class="btn btn-info">
          <i class="bi bi-file-text"></i> View Full Report
        </a>
      </div>
    </div>
  </div>

  <script>
    // Apply RTL to the right iframe
    window.addEventListener('load', () => {
      setTimeout(() => {
        try {
          const rtlFrame = document.getElementById('rtlFrame');
          const rtlDoc = rtlFrame.contentDocument || rtlFrame.contentWindow.document;
          rtlDoc.documentElement.setAttribute('dir', 'rtl');
          rtlDoc.documentElement.setAttribute('lang', 'ar');
          
          // Try to trigger the language switcher
          const select = rtlDoc.getElementById('languageSelect');
          if (select) {
            select.value = 'ar';
            // Trigger change event
            const event = new Event('change', { bubbles: true });
            select.dispatchEvent(event);
          }
        } catch (e) {
          console.log('Note: Iframe manipulation may be restricted due to same-origin policy');
        }
      }, 1000);
    });

    function highlightDifferences() {
      const ltrWrapper = document.getElementById('ltrWrapper');
      const rtlWrapper = document.getElementById('rtlWrapper');
      
      ltrWrapper.classList.add('active');
      rtlWrapper.classList.add('active');
      
      setTimeout(() => {
        ltrWrapper.classList.remove('active');
        rtlWrapper.classList.remove('active');
      }, 2000);
      
      alert('✨ Key differences to observe:\n\n' +
            '• Language switcher position (right vs left)\n' +
            '• Text alignment (left vs right)\n' +
            '• Overall layout direction\n' +
            '• Spacing and margins\n' +
            '• Button and icon positioning');
    }

    function syncScroll() {
      const ltrFrame = document.getElementById('ltrFrame');
      const rtlFrame = document.getElementById('rtlFrame');
      
      try {
        const ltrDoc = ltrFrame.contentWindow;
        const rtlDoc = rtlFrame.contentWindow;
        
        ltrDoc.addEventListener('scroll', (e) => {
          rtlDoc.scrollTo(0, ltrDoc.scrollY);
        });
        
        rtlDoc.addEventListener('scroll', (e) => {
          ltrDoc.scrollTo(0, rtlDoc.scrollY);
        });
        
        alert('✅ Scroll synchronization enabled!\nScrolling one frame will scroll the other.');
      } catch (e) {
        alert('⚠️ Scroll sync may not work due to iframe restrictions.\nTry opening in a full browser window.');
      }
    }

    function refreshFrames() {
      document.getElementById('ltrFrame').src = document.getElementById('ltrFrame').src;
      document.getElementById('rtlFrame').src = document.getElementById('rtlFrame').src;
      
      setTimeout(() => {
        document.getElementById('rtlFrame').contentWindow.postMessage({ dir: 'rtl' }, '*');
      }, 1000);
    }

    function toggleFullscreen() {
      const container = document.querySelector('.iframe-container');
      
      if (!document.fullscreenElement) {
        container.requestFullscreen().then(() => {
          alert('Press ESC to exit fullscreen mode');
        }).catch(err => {
          alert('Fullscreen not supported or permission denied');
        });
      } else {
        document.exitFullscreen();
      }
    }

    // Add hover effects to change items
    document.querySelectorAll('.change-item').forEach(item => {
      item.addEventListener('mouseenter', function() {
        this.style.background = '#e7f3ff';
        this.style.transform = 'translateX(5px)';
        this.style.transition = 'all 0.3s ease';
      });
      
      item.addEventListener('mouseleave', function() {
        this.style.background = '#f8f9fa';
        this.style.transform = 'translateX(0)';
      });
    });
  </script>
</body>
</html>
